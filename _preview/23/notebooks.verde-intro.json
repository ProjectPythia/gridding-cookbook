{"version":2,"kind":"Notebook","sha256":"b74c9680615ef03c81ea14e521a68c3903928addbe2b1807d6f52f132baaad33","slug":"notebooks.verde-intro","location":"/notebooks/verde_intro.ipynb","dependencies":[],"frontmatter":{"title":"Introduction to Verde","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Thomas Martin","given":"Thomas","family":"Martin"},"name":"Thomas Martin","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/gridding-cookbook","copyright":"2024","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/gridding-cookbook/blob/HEAD/notebooks/verde_intro.ipynb","exports":[{"format":"ipynb","filename":"verde_intro.ipynb","url":"/gridding-cookbook/_preview/23/build/verde_intro-709d49725479e8e3369a5f59be2e6a88.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Unlike xESMF, verde is mainly designed around unstructured grids. Verde has a lot of great examples, we will use an atmospheric one below, but highly reccomend reading though the documents to get a better handle on the API.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fE7Yreg6ng"}],"key":"Z3hTp7EZ1W"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://www.fatiando.org/verde/latest/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"https://​www​.fatiando​.org​/verde​/latest/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gWTwXTWlEP"}],"urlSource":"https://www.fatiando.org/verde/latest/","key":"i8qfpK2WyH"}],"key":"l0BqYT49DT"}],"key":"hNvx7OpgJy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"phUFlAxOdT"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"CFP1mhxS9F"}],"key":"Dgvj0cTsuK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Knowing your way around pandas, xarray, numpy and matplotlib is beneficial. This is not deisgned to be an introduction to any of those packages. We will be using Cartopy for some of the plots as well.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hcONTXysak"}],"key":"kufClcxYT6"}],"key":"jIEirghoMJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EEVN3eTzJJ"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"vA5tKQaHhj"}],"key":"hHp8ZwjAvp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\nimport cartopy.crs as ccrs\nimport cartopy.feature as cf\n\nfrom appdirs import *\n\nimport verde as vd\n\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as mticker","key":"khcn8Uw9X8"},{"type":"output","id":"f7w1zMY5Y4nnvCMyOqOQa","data":[],"key":"Tjm00G7eHj"}],"key":"WCcn5j538i"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%load_ext watermark\n%watermark --iversions","key":"S4I4lusEF6"},{"type":"output","id":"SGgpgiQGgaSXeHPA5C1sh","data":[{"output_type":"stream","name":"stdout","text":"verde     : 1.8.1\nmatplotlib: 3.10.3\ncartopy   : 0.24.0\nsys       : 3.13.5 | packaged by conda-forge | (main, Jun 16 2025, 08:27:50) [GCC 13.3.0]\nappdirs   : 1.4.4\nnumpy     : 2.2.6\npandas    : 2.3.0\n\n"}],"key":"jzSANPiPnQ"}],"key":"YtTgzmXwnO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"colnames=['remove', 'lon', 'lat', 'date', 'sensor', 'PM25value', 'sensor_type'] \n\ndf = pd.read_csv('../data/airnow_data.csv', names=colnames, header=None)\ndf = df.drop(columns='remove')\ndf.head(3)","key":"xQyXf8ON3h"},{"type":"output","id":"ozU6ObXVbQdx8BDviQD0b","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"         lon         lat              date sensor  PM25value  sensor_type\n0  41.783083 -110.537888  2022-09-05T16:00  PM2.5         45            1\n1  40.294300 -110.009000  2022-09-05T16:00  PM2.5         40            1\n2  40.464722 -109.560830  2022-09-05T16:00  PM2.5         30            1","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>lon</th>\n      <th>lat</th>\n      <th>date</th>\n      <th>sensor</th>\n      <th>PM25value</th>\n      <th>sensor_type</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>41.783083</td>\n      <td>-110.537888</td>\n      <td>2022-09-05T16:00</td>\n      <td>PM2.5</td>\n      <td>45</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>40.294300</td>\n      <td>-110.009000</td>\n      <td>2022-09-05T16:00</td>\n      <td>PM2.5</td>\n      <td>40</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>40.464722</td>\n      <td>-109.560830</td>\n      <td>2022-09-05T16:00</td>\n      <td>PM2.5</td>\n      <td>30</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"gppVoX7inf"}],"key":"JPr2hvjwC1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.date = pd.to_datetime(df.date)\ndf.dtypes","key":"Kn2LwjdW09"},{"type":"output","id":"x_53JRZght-9n4emwLyys","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"lon                   float64\nlat                   float64\ndate           datetime64[ns]\nsensor                 object\nPM25value               int64\nsensor_type             int64\ndtype: object","content_type":"text/plain"}}}],"key":"XmK2y0QMt6"}],"key":"MvNblcdTd2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s pick a time that has decent coverage:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XuGSFqGLe5"}],"key":"oI9QdwM1vu"}],"key":"y1Vgd3Rh67"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.date.value_counts().head()","key":"BLgk2j9gu0"},{"type":"output","id":"XOS5ULop_Kbaq-PeckwCc","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"date\n2022-09-05 16:00:00    36\n2022-09-05 17:00:00    36\n2022-09-05 18:00:00    36\n2022-09-05 19:00:00    36\n2022-09-05 20:00:00    36\nName: count, dtype: int64","content_type":"text/plain"}}}],"key":"OPqfvarubw"}],"key":"qIraKJfTHY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df2 = df[df.date == '2022-09-06T07:00']\ndf2.head(3)","key":"kbevExctyD"},{"type":"output","id":"A6Vt2Oodw8bg8hrDkvO48","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"           lon         lat                date sensor  PM25value  sensor_type\n540  41.783083 -110.537888 2022-09-06 07:00:00  PM2.5         16            1\n541  40.294300 -110.009000 2022-09-06 07:00:00  PM2.5         29            1\n542  40.464722 -109.560830 2022-09-06 07:00:00  PM2.5         23            1","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>lon</th>\n      <th>lat</th>\n      <th>date</th>\n      <th>sensor</th>\n      <th>PM25value</th>\n      <th>sensor_type</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>540</th>\n      <td>41.783083</td>\n      <td>-110.537888</td>\n      <td>2022-09-06 07:00:00</td>\n      <td>PM2.5</td>\n      <td>16</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>541</th>\n      <td>40.294300</td>\n      <td>-110.009000</td>\n      <td>2022-09-06 07:00:00</td>\n      <td>PM2.5</td>\n      <td>29</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>542</th>\n      <td>40.464722</td>\n      <td>-109.560830</td>\n      <td>2022-09-06 07:00:00</td>\n      <td>PM2.5</td>\n      <td>23</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"ym8vhFtidc"}],"key":"dULaBoJRnm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DGpTOlL10F"}],"identifier":"plotting-the-data","label":"Plotting the data","html_id":"plotting-the-data","implicit":true,"key":"iRp9540o0b"}],"key":"QRfb5NaBHK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(8, 5))\nax = plt.axes(projection=ccrs.PlateCarree())\nax.add_feature(cf.STATES)\n\ngl = ax.gridlines(crs=ccrs.PlateCarree(), draw_labels=True,\n                  linewidth=2, color='gray', alpha=0.35, linestyle='--')\n\ngl.xlabels_top = False\ngl.ylabels_right = False\n\ngl.xlocator = mticker.FixedLocator([-110, -108,  -106, -104, -102])\n\nplt.scatter(df2.lat, \n            df2.lon, \n            c = df2.PM25value,\n            s=50,\n            cmap=\"YlOrBr\")\n\nplt.colorbar().set_label(\"PM 2.5\")\nplt.show()","key":"Isxz70DjWX"},{"type":"output","id":"FNQkRYSzxfAwKYOs2EsbB","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/gridding-cookbook-dev/lib/python3.13/site-packages/cartopy/io/__init__.py:241: DownloadWarning: Downloading: https://naturalearth.s3.amazonaws.com/10m_cultural/ne_10m_admin_1_states_provinces_lakes.zip\n  warnings.warn(f'Downloading: {url}', DownloadWarning)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x500 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"93eecfa4a88d01480a04f05b190647f5","path":"/gridding-cookbook/_preview/23/build/93eecfa4a88d01480a04f05b190647f5.png"}}}],"key":"usg7otdNK8"}],"key":"kwbnZvbDzK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verde Workflows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vGhBBpZ47d"}],"identifier":"verde-workflows","label":"Verde Workflows","html_id":"verde-workflows","implicit":true,"key":"iGKcrbXutC"}],"key":"hIDTueo18G"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Some of these workflows might not work super well from a scientific standpoint, this is just to show the mechanics of the verde package.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zX0UAcsAlz"}],"key":"uOmNK2cUKz"}],"key":"N5jvw9jjsA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"coordinates = (df2.lon, df2.lat)","key":"r2poEMHci7"},{"type":"output","id":"nvxQDOgU89hnW8AOBRcq4","data":[],"key":"uAdlO5VDhY"}],"key":"ka98pE6LPE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Trend Estimation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DqtcC9ssvd"}],"identifier":"trend-estimation","label":"Trend Estimation","html_id":"trend-estimation","implicit":true,"key":"XU8vo75Oua"}],"key":"ojtNVSw9Jm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Same code, different example can be found here: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WwEcc6GD1T"},{"type":"link","url":"https://www.fatiando.org/verde/latest/tutorials/trends.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​www​.fatiando​.org​/verde​/latest​/tutorials​/trends​.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oLm50qWyHA"}],"urlSource":"https://www.fatiando.org/verde/latest/tutorials/trends.html","key":"fT9xWkhBjz"}],"key":"PCBFNbxoAy"}],"key":"xPvitU9D6X"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"trend = vd.Trend(degree=1).fit(coordinates, df2.PM25value)\nprint(trend.coef_)","key":"GMqsraX39J"},{"type":"output","id":"SeM1gg_1RxMCjUEXc9-xN","data":[{"output_type":"stream","name":"stdout","text":"[38.39163129  0.54379964  0.32281663]\n"}],"key":"JwggJrQq7C"}],"key":"nPhSP708Ra"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"trend_values = trend.predict(coordinates)\nresiduals = df2.PM25value - trend_values","key":"JZ2IXwAIli"},{"type":"output","id":"7o5O_4caeYpbSlqnuW1S8","data":[],"key":"T0yZn61JXV"}],"key":"Dpvzcsj2MU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(8, 5))\nax = plt.axes(projection=ccrs.PlateCarree())\nax.add_feature(cf.STATES)\n\ngl = ax.gridlines(crs=ccrs.PlateCarree(), draw_labels=True,\n                  linewidth=2, color='gray', alpha=0.35, linestyle='--')\n\ngl.top_labels = False\ngl.ylabels_right = False\n\ngl.xlocator = mticker.FixedLocator([-110, -108,  -106, -104, -102])\n\nmaxabs = vd.maxabs(residuals)\n\n\nplt.scatter(df2.lat, \n            df2.lon, \n            c = residuals,\n            s=50,\n            vmin=-maxabs,\n            vmax=maxabs,\n            cmap=\"bwr\")\n\nplt.colorbar().set_label(\"Residuals\")\nplt.show()","key":"fmCslS0bqN"},{"type":"output","id":"ORaju3PWmRauUVUnl2X38","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x500 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"c0b4bd6b8ffca3ffd717c81a12aaff45","path":"/gridding-cookbook/_preview/23/build/c0b4bd6b8ffca3ffd717c81a12aaff45.png"}}}],"key":"OjJx8wT3rY"}],"key":"drMPMB5MXV"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Unlike the Texas example in Verde, hard to see a distinct regional trend.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NPo3cQ6bUf"}],"key":"tUQWjj2Pbj"}],"key":"n9aDFQhyYV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data Decimation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lRZ2WxqGnE"}],"identifier":"data-decimation","label":"Data Decimation","html_id":"data-decimation","implicit":true,"key":"ThmcGa5iCM"}],"key":"CpnzHgwn2f"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spacing = 30 / 60 # Play around with this!\n\nreducer = vd.BlockReduce(reduction=np.median, spacing= spacing)\nprint(reducer)","key":"B3HagaT8LA"},{"type":"output","id":"cZvGomdD5CSONNHZhomZI","data":[{"output_type":"stream","name":"stdout","text":"BlockReduce(reduction=<function median at 0x7f5dc8ebdb70>, spacing=0.5)\n"}],"key":"C4CGo6XmQn"}],"key":"x7zw5qJh3N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"filter_coords, filter_data = reducer.filter(\n    coordinates=(df2.lat, df2.lon), data=df2.PM25value)","key":"yXhUGiAnaL"},{"type":"output","id":"2Jtwm2_D-9eMSzqJZdu5f","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/gridding-cookbook-dev/lib/python3.13/site-packages/verde/blockreduce.py:179: FutureWarning: The provided callable <function median at 0x7f5dc8ebbe20> is currently using DataFrameGroupBy.median. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string \"median\" instead.\n  blocked = pd.DataFrame(columns).groupby(\"block\").aggregate(reduction)\n/home/runner/micromamba/envs/gridding-cookbook-dev/lib/python3.13/site-packages/verde/blockreduce.py:236: FutureWarning: The provided callable <function median at 0x7f5dc8ebbe20> is currently using DataFrameGroupBy.median. In a future version of pandas, the provided callable will be used directly. To keep current behavior pass the string \"median\" instead.\n  grouped = table.groupby(\"block\").aggregate(self.reduction)\n"}],"key":"jsqSB4zyOc"}],"key":"XINGV8AtEx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Sanity check","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QPWZSWWmgI"}],"key":"nve89Uxllp"}],"key":"x0H6NAjpqQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"np.shape(filter_coords)[1] == np.size(filter_data)","key":"qFcz8eBZmB"},{"type":"output","id":"zk5mqkUWzWRfbbKDtWz89","data":[{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"True","content_type":"text/plain"}}}],"key":"VSQilSfQPo"}],"key":"N9jnfwhp82"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plotting the decimated datapoints","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eh18J3E1fv"}],"key":"u8ilKmQd2i"}],"key":"hjBmhUwtte"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(6, 4))\nplt.plot(*filter_coords, \".k\",  markersize=15, label='Data points')\nplt.legend()\nplt.show()","key":"A9LS0Ti057"},{"type":"output","id":"PpyVZhcENGsGQsOeSH7xH","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 600x400 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"3551bbfd68d12a1e54ac91e4e6a77886","path":"/gridding-cookbook/_preview/23/build/3551bbfd68d12a1e54ac91e4e6a77886.png"}}}],"key":"FHWLPwIr3L"}],"key":"wTl4cGbAXo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verde Spline","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZKhRoCnEKt"}],"identifier":"verde-spline","label":"Verde Spline","html_id":"verde-spline","implicit":true,"key":"iXS98CgIHZ"}],"key":"rV8jjkthSI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This turtorial runs though this entire workflow, but with a bathymetery dataset: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zuHEq0oBNl"},{"type":"link","url":"https://www.fatiando.org/verde/latest/tutorials/projections.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​www​.fatiando​.org​/verde​/latest​/tutorials​/projections​.html","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a7XWycYhnU"}],"urlSource":"https://www.fatiando.org/verde/latest/tutorials/projections.html","key":"DJIABXeDx1"}],"key":"AAS18hU9E9"}],"key":"zbrgqEVZ4M"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spline = vd.Spline().fit(filter_coords, filter_data)\n\nregion = vd.get_region(filter_coords)\ngrid_coords = vd.grid_coordinates(region, spacing=spacing)\ngrid = spline.grid(coordinates=grid_coords, data_names=\"PM25\")\nprint(grid)","key":"aFno7oVGeu"},{"type":"output","id":"xt9rICvyRvGzOQUkg1f0A","data":[{"output_type":"stream","name":"stdout","text":"<xarray.Dataset> Size: 2kB\nDimensions:   (northing: 14, easting: 18)\nCoordinates:\n  * easting   (easting) float64 144B -110.5 -110.0 -109.5 ... -102.4 -101.9\n  * northing  (northing) float64 112B 35.14 35.66 36.18 ... 40.84 41.36 41.88\nData variables:\n    PM25      (northing, easting) float64 2kB 74.69 69.09 63.62 ... 11.73 6.292\nAttributes:\n    metadata:  Generated by Spline(mindist=0)\n"}],"key":"qGzj8GgoKF"}],"key":"ei7JF3Natp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"distance_mask = 1 #this might not make physical sense\ngrid = vd.distance_mask(filter_coords, maxdist=distance_mask, grid=grid)","key":"iCGUKA5t9L"},{"type":"output","id":"ChCsT8nUeey8SY4VSFm_c","data":[],"key":"Tf8Zgnp5SK"}],"key":"VvuJrPAQ3y"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s make a plot with the gridded and masked output, also shows where the datapoints are:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F47KQ1T9m1"}],"key":"rC4RIBG5Yv"}],"key":"lx1VpMCTZ0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(8, 5))\n\npc = grid.PM25.plot.pcolormesh(cmap=\"YlOrBr\", add_colorbar=False)\nplt.colorbar(pc)\nplt.plot(filter_coords[0], filter_coords[1], \".k\", markersize=15, label='Data Points')\n\nplt.title('Gridded PM2.5 Data, Distance Filter: '+str(distance_mask))\n\nplt.xlabel(\"West\", size=15)\nplt.ylabel(\"North\", size=15)\nplt.legend()\nplt.gca().set_aspect(\"equal\")\nplt.tight_layout()\nplt.show()","key":"tk4VDxWU4C"},{"type":"output","id":"4ZV60t51Ki6Cur6lWYYnc","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 800x500 with 2 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"e72f6b784a69e4b4e8516699b8361497","path":"/gridding-cookbook/_preview/23/build/e72f6b784a69e4b4e8516699b8361497.png"}}}],"key":"zQ8oqx9B25"}],"key":"qXidlPOQWd"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LgybvD5OnC"}],"identifier":"xarray","label":"Xarray","html_id":"xarray","implicit":true,"key":"sgtzjSYNkj"}],"key":"egcVt7g91R"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Making the grid into an xarray dataset is 1 line of code!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WC9pLiarAI"}],"key":"jshC0g7Oyr"}],"key":"EQZNqDk1uM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = grid.PM25.to_dataset()\nds","key":"dHOJLT56QO"},{"type":"output","id":"hlzlCOV5QVst4PLADcsQp","data":[{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 2kB\nDimensions:   (easting: 18, northing: 14)\nCoordinates:\n  * easting   (easting) float64 144B -110.5 -110.0 -109.5 ... -102.4 -101.9\n  * northing  (northing) float64 112B 35.14 35.66 36.18 ... 40.84 41.36 41.88\nData variables:\n    PM25      (northing, easting) float64 2kB nan nan nan nan ... 17.54 nan nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 2kB\nDimensions:   (easting: 18, northing: 14)\nCoordinates:\n  * easting   (easting) float64 144B -110.5 -110.0 -109.5 ... -102.4 -101.9\n  * northing  (northing) float64 112B 35.14 35.66 36.18 ... 40.84 41.36 41.88\nData variables:\n    PM25      (northing, easting) float64 2kB nan nan nan nan ... 17.54 nan nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-9b4412a4-8895-426b-9d80-026136fc59b2' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-9b4412a4-8895-426b-9d80-026136fc59b2' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>easting</span>: 18</li><li><span class='xr-has-index'>northing</span>: 14</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-ab403ed0-ebef-448f-b6ba-941c136ed65d' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ab403ed0-ebef-448f-b6ba-941c136ed65d' class='xr-section-summary' >Coordinates: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>easting</span></div><div class='xr-var-dims'>(easting)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>-110.5 -110.0 ... -102.4 -101.9</div><input id='attrs-28789c0e-bb41-4113-94f1-0524b10dcc32' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-28789c0e-bb41-4113-94f1-0524b10dcc32' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-73e47bd1-cb8d-4cfb-8d21-bf65066ec26d' class='xr-var-data-in' type='checkbox'><label for='data-73e47bd1-cb8d-4cfb-8d21-bf65066ec26d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([-110.537888, -110.030265, -109.522642, -109.01502 , -108.507397,\n       -107.999774, -107.492151, -106.984528, -106.476905, -105.969283,\n       -105.46166 , -104.954037, -104.446414, -103.938791, -103.431168,\n       -102.923546, -102.415923, -101.9083  ])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>northing</span></div><div class='xr-var-dims'>(northing)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>35.14 35.66 36.18 ... 41.36 41.88</div><input id='attrs-d1875507-26a3-4247-8801-1adcd8661136' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-d1875507-26a3-4247-8801-1adcd8661136' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-04ec4fa7-6fb9-42cf-a5a0-25ba912c483f' class='xr-var-data-in' type='checkbox'><label for='data-04ec4fa7-6fb9-42cf-a5a0-25ba912c483f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([35.1441  , 35.661904, 36.179709, 36.697513, 37.215317, 37.733122,\n       38.250926, 38.76873 , 39.286534, 39.804339, 40.322143, 40.839947,\n       41.357752, 41.875556])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-6e1558ec-5798-4208-9ca3-8bfeb1d6b8d6' class='xr-section-summary-in' type='checkbox'  checked><label for='section-6e1558ec-5798-4208-9ca3-8bfeb1d6b8d6' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>PM25</span></div><div class='xr-var-dims'>(northing, easting)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... 17.54 nan nan</div><input id='attrs-fdd8410f-48c5-4390-9d8a-7f169445a303' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-fdd8410f-48c5-4390-9d8a-7f169445a303' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-96fc2ca0-e80e-4a6d-90a8-5052cd1748d2' class='xr-var-data-in' type='checkbox'><label for='data-96fc2ca0-e80e-4a6d-90a8-5052cd1748d2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>metadata :</span></dt><dd>Generated by Spline(mindist=0)</dd></dl></div><div class='xr-var-data'><pre>array([[        nan,         nan,         nan,         nan,         nan,\n                nan, 44.59131046, 39.577399  , 30.9290346 , 19.37611031,\n        15.19816161,         nan,         nan,         nan,         nan,\n                nan, 25.41683029, 26.43790005],\n       [        nan,         nan,         nan,         nan,         nan,\n                nan,         nan, 26.17680332, 15.9536217 ,  6.36852569,\n         6.78126555,  9.51742429,         nan,         nan,         nan,\n                nan, 21.73404816, 22.63338388],\n       [        nan,         nan,         nan,         nan,         nan,\n        28.83239662, 23.08102862,         nan,  9.79006308,  5.30588243,\n         6.1206478 ,  8.59800223,         nan,         nan,         nan,\n                nan,         nan, 19.53628538],\n       [        nan,         nan,         nan,         nan, 28.57511624,\n        22.36068765, 17.44647738, 13.61649596, 10.31282478,  8.86834165,\n         9.71426225, 11.30711447,         nan,         nan,         nan,\n                nan,         nan,         nan],\n       [        nan,         nan,         nan,         nan, 25.77930382,\n        20.34310532, 16.98000413, 15.49218454,         nan, 14.20224356,\n        14.85170643,         nan,         nan,         nan,         nan,\n                nan,         nan,         nan],\n...\n       [36.66061715, 34.20234403, 33.18881741, 36.55249975, 40.26405683,\n        42.28480502, 44.22890483, 44.98405891, 42.66580598, 37.17976218,\n        29.07744676, 23.71653844, 18.99329113, 15.95589749,         nan,\n                nan,         nan,         nan],\n       [31.82417211, 28.7639875 , 25.62738039, 31.31531917, 37.16895659,\n        40.01590078,         nan,         nan,         nan, 41.2752953 ,\n        39.3087373 , 29.65399235, 17.80505315, 16.26805185,         nan,\n                nan,         nan,         nan],\n       [25.60939056, 21.23512155, 18.60734344, 22.6149659 , 28.79845456,\n                nan,         nan,         nan,         nan, 41.18429168,\n        43.17136022, 40.17053881, 29.23161609, 22.74468372,         nan,\n                nan,         nan,         nan],\n       [19.99437318, 15.64671639, 13.05991168, 15.09135734, 20.54979891,\n                nan,         nan,         nan, 35.53659168, 37.03471545,\n        39.94845054, 43.97239772, 38.47274977, 29.53796423, 22.51611929,\n        16.90156799,         nan,         nan],\n       [15.08874012, 11.13853538,  8.65034358,  9.72304681, 14.06563031,\n                nan,         nan,         nan,         nan, 33.19423011,\n        36.73937806, 39.70671614, 37.41064739, 30.95188451, 23.921356  ,\n        17.53679109,         nan,         nan]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-99a90efc-0e19-4a95-9aca-9ad5847f6e2d' class='xr-section-summary-in' type='checkbox'  ><label for='section-99a90efc-0e19-4a95-9aca-9ad5847f6e2d' class='xr-section-summary' >Indexes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>easting</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-8dc5c61e-4447-4b55-a080-86469b30ba64' class='xr-index-data-in' type='checkbox'/><label for='index-8dc5c61e-4447-4b55-a080-86469b30ba64' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([        -110.537888, -110.03026517647058, -109.52264235294118,\n       -109.01501952941176, -108.50739670588234, -107.99977388235294,\n       -107.49215105882352,  -106.9845282352941,  -106.4769054117647,\n       -105.96928258823529, -105.46165976470587, -104.95403694117647,\n       -104.44641411764705, -103.93879129411765, -103.43116847058823,\n       -102.92354564705882, -102.41592282352941,           -101.9083],\n      dtype=&#x27;float64&#x27;, name=&#x27;easting&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>northing</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-daa1ac9d-c69f-4c07-92fb-e453305853f5' class='xr-index-data-in' type='checkbox'/><label for='index-daa1ac9d-c69f-4c07-92fb-e453305853f5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([           35.1441,  35.66190430769231,  36.17970861538462,\n        36.69751292307693,  37.21531723076923,  37.73312153846154,\n        38.25092584615385,  38.76873015384616, 39.286534461538466,\n       39.804338769230775,  40.32214307692308, 40.839947384615385,\n       41.357751692307694,          41.875556],\n      dtype=&#x27;float64&#x27;, name=&#x27;northing&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-8806dcec-a7a3-47ff-b641-8c71448d86cf' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-8806dcec-a7a3-47ff-b641-8c71448d86cf' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"QMsJAi7pl7"}],"key":"YTuyn3eq0t"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Exporting this as a netCDF:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kGtmdefQj8"}],"key":"kHQUBLkuoJ"}],"key":"b3yU76uOCz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds.to_netcdf('test.nc')","key":"A9JXxaClD7"},{"type":"output","id":"9dUU-DFjBw-TljI5KC2bh","data":[],"key":"aXOJisSg14"}],"key":"HYo4HVrPwT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BxcKTM9P85"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"BicMjxXoFY"}],"key":"Ju3VOO2uzK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Verde and xESMF are two different gridding packages, with two different aims. They both work well with xarray!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U5n6JYvJd7"}],"key":"wtOHl7x11t"}],"key":"vljSrW7lam"}],"key":"wbnCC6a2J9"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"xESMF Demo using SEVIER dataset for Machine Learning Preperation","url":"/notebooks/xesmf-introduction","group":"re(Gridding)"},"next":{"title":"Introduction to Pyresample","url":"/notebooks/pyresample-intro","group":"re(Gridding)"}}},"domain":"http://localhost:3000"}